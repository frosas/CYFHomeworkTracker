(this["webpackJsonpcyf-homework-tracker"]=this["webpackJsonpcyf-homework-tracker"]||[]).push([[0],{398:function(e,t,n){e.exports=n(516)},403:function(e,t,n){},404:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},405:function(e,t,n){},516:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),u=n(144),s=n(98),c=(n(403),n(29)),l=n(54),h=n(58),f=n(50),d=n(49),b=(n(404),n(405),n(365)),m=n.n(b),g=n(372),p=n.n(g),w=n(382),O=n.n(w),v=n(373),k=n.n(v),j=n(380),E=n.n(j),R=n(257),S=n.n(R),y=n(256),C=n.n(y),P=n(374),A=n.n(P),T=n(375),I=n.n(T),L=n(377),W=n.n(L),_=n(378),U=n.n(_),H=n(379),D=n.n(H),N=n(383),x=n.n(N),F=n(376),G=n.n(F),z=n(381),B=n.n(z),V=n(384),K=n.n(V),M=[{name:"London",tracker:"https://docs.google.com/spreadsheets/d/1B_08AtHWy8FwGnfjTmj5TzuNKtBf2ov31BFPnJs2DR0/edit#gid=0",students:["ferhatu","Hamidreza-Fakharzadeh","minwwgo","yusuf963","Rayhan94","Sonjide","TamBahri","cyeburu","Hanifix","HarrisSheraz20","279Roxana","sabia-m","abbasmokhtari","Jreo123","kiowd","SCavus","tayfuntayfun","AKaramifar","AlexeyBrambalov","naderakhgari","leealex88","Alisina92","banirezaie","cockochan","abcelen","babakjahangiri","ellietms","sugunum","mahmutsel","melanieet","AlexandruBudaca","byohannes","Erwin6997","mnashawati","tanianm"]}],J={Add:Object(a.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return r.a.createElement(G.a,Object.assign({},e,{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(U.a,Object.assign({},e,{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return r.a.createElement(O.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))}))},q=[{title:"Reviewed? (Click to mark as done)",defaultSortOrder:"asc",render:function(e,t){return e.labels.some((function(e){return"reviewed"==e.name}))?r.a.createElement("button",{type:"button",class:"btn btn-success"},"Reviewed"):r.a.createElement("button",{type:"button",class:"btn btn-danger"},"To Review")}},{title:"Title",field:"title"},{title:"Student",field:"user.login",render:function(e){return r.a.createElement("a",{href:e.user.html_url},e.user.login)}},{title:"School",render:function(e){var t="unknown";return M.forEach((function(n){n.students.includes(e.user.login)&&(t=n.name)})),t.toString()}},{title:"Homework Module",field:"base.repo.name",render:function(e){return r.a.createElement("a",{href:e.base.repo.html_url},e.base.repo.name)}},{render:function(e){return r.a.createElement("a",{className:"btn btn-outline-primary",href:"https://www.gitpod.io/#"+e.html_url,role:"button",target:"_blank",rel:"noopener noreferrer"},"View Source")}},{render:function(e){return r.a.createElement("a",{className:"btn btn-outline-secondary",href:e.html_url,role:"button",target:"_blank",rel:"noopener noreferrer"},"View Pull Request")}}],Y={pageSize:20,defaultExpanded:!0};var Z=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={columns:q,options:Y},a}return Object(l.a)(n,[{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){return r.a.createElement(m.a,{icons:J,columns:this.state.columns,data:this.props.data,title:"",isLoading:this.props.isLoading,options:this.state.options})}}]),n}(r.a.Component),X=Object(s.e)(Z),Q=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClickOpen=function(){a.setState({dialogOpen:!0})},a.handleClose=function(){a.setState({dialogOpen:!1})},a.state={isLoading:!1,data:[]},a.handleClickOpen=a.handleClickOpen.bind(Object(h.a)(a)),a.handleClose=a.handleClose.bind(Object(h.a)(a)),a.githubRepo=a.props.githubRepo,a.authRepo=a.props.authRepo,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({isLoading:!0}),this.props.authRepo.registerOnAuthListener((function(n){e.githubRepo.setToken().then((function(n){e.githubRepo.getHomeworkToReview("js-exercises").then((function(e){console.log(e),t.setState({isLoading:!1,data:e})}))}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(X,{isLoading:this.state.isLoading,data:this.state.data})))}}]),n}(r.a.Component),$=n(85),ee=n.n($),te=(n(496),n(498),{apiKey:"AIzaSyAMog4hpMuZVXjWZT5zw5HXaYLq_dF61Ho",authDomain:"cyfhomeworktracker.firebaseapp.com",databaseURL:"https://cyfhomeworktracker.firebaseio.com",projectId:"cyfhomeworktracker",storageBucket:"cyfhomeworktracker.appspot.com",messagingSenderId:"708461557840",appId:"1:708461557840:web:2449c2f1daabec198f3955",measurementId:"G-ZE8EQM853K"}),ne=function e(){var t=this;Object(c.a)(this,e),this.currentUser=function(){return t.auth.currentUser},this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignInWithGithub=function(){return t.auth.signInWithPopup(t.githubProvider)},this.doSignInAnonymous=function(){return t.auth.signInAnonymously()},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/CYFHomeworkTracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged((function(t){t?e(t):n()}))},this.users=function(){return t.db.collection("users")},ee.a.initializeApp(te),this.serverValue=ee.a.firestore.ServerValue,this.emailAuthProvider=ee.a.auth.EmailAuthProvider,this.auth=ee.a.auth(),this.db=ee.a.firestore(),this.db.enablePersistence().catch((function(e){console.log(e.toString())})),this.googleProvider=new ee.a.auth.GoogleAuthProvider,this.facebookProvider=new ee.a.auth.FacebookAuthProvider,this.twitterProvider=new ee.a.auth.TwitterAuthProvider,this.githubProvider=new ee.a.auth.GithubAuthProvider},ae=n(213),re=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).state={};var r=a.props.history;return a.props.authRepo.registerOnAuthListener((function(e){e&&(r.push("/main"),a.showToast("User Logged In. Welcome "+e.email))}),(function(){console.log(a.props.history),r.push("/login")}),(function(e){console.log(e)})),a}return Object(l.a)(n,[{key:"showToast",value:function(e){Object(ae.a)(e,{autoClose:2e3})}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),n}(r.a.Component),oe=Object(s.e)(re),ie=n(91),ue=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).state={loading:!1};var r=a.props.history;return a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.authRepo=a.props.authRepo,a.authRepo.registerOnAuthListener((function(e){e&&(r.push("/main"),a.showToast("User Logged In. Welcome "+e.email))}),(function(){}),(function(e){console.log(e)})),a}return Object(l.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name;this.setState(Object(ie.a)({},n,t.value))}},{key:"handleSubmit",value:function(e){var t=this;this.setState({loading:!0}),e.preventDefault(),this.authRepo.doSignInWithGithub((function(e){t.showToast("Something went wrong. Call Chris."),t.setState({loading:!1})}))}},{key:"showToast",value:function(e){Object(ae.a)(e,{autoClose:2e3})}},{key:"render",value:function(){return r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{class:"fadeIn first"},r.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",id:"icon",alt:"User Icon"})),r.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:this.handleSubmit},"Login with Github")))}}]),n}(r.a.Component),se=Object(s.e)(ue),ce=function(){function e(t){Object(c.a)(this,e),this.firebase=t}return Object(l.a)(e,[{key:"registerOnAuthListener",value:function(e,t,n){this.firebase.onAuthUserListener((function(n){n?e(n):t()}),(function(e){t()}))}},{key:"doSignInWithGithub",value:function(e){var t=this;this.firebase.doSignInWithGithub().then((function(e){console.log(e),t.token=e.credential.accessToken;var n={token:e.credential.accessToken};t.firebase.users().doc(e.user.uid).set(n)})).catch((function(t){e(t)}))}},{key:"getCurrentUser",value:function(){return this.firebase.currentUser()}},{key:"logout",value:function(){this.firebase.doSignOut()}},{key:"getToken",value:function(){return console.log("CURRENT_USER "+this.getCurrentUser().uid),this.firebase.users().doc(this.getCurrentUser().uid).get().then((function(e){return console.log("TOKEN "+e.data().token),e.data().token}))}}]),e}(),le=n(390),he=function(){function e(t){Object(c.a)(this,e),this.authRepo=t}return Object(l.a)(e,[{key:"setToken",value:function(){var e=this;return this.authRepo.getToken().then((function(t){e.octokit=new le.a({userAgent:"CyfHomeworkTracker",auth:t,log:{debug:function(){},info:function(){},warn:console.warn,error:console.error},request:{agent:void 0,fetch:void 0,timeout:0}})}))}},{key:"getAllHomework",value:function(e){return this.octokit.pulls.list({owner:"CodeYourFuture",repo:e,per_page:100}).catch((function(e){console.log(e)}))}},{key:"getHomeworkToReview",value:function(e){return this.getAllHomework(e).then((function(e){return e.data.filter((function(e){return e.labels.some((function(e){return"reviewed"!==e.name.toLowerCase()}))>0}))})).catch((function(e){console.log(e)}))}}]),e}(),fe=new ce(new ne),de=new he(fe),be=r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(s.a,{path:"/",component:function(){return r.a.createElement(oe,{authRepo:fe})}}),r.a.createElement(s.a,{path:"/login",component:function(){return r.a.createElement(se,{authRepo:fe})}}),r.a.createElement(s.a,{path:"/main",component:function(){return r.a.createElement(Q,{githubRepo:de,authRepo:fe})}})));i.a.render(be,document.getElementById("root"))}},[[398,1,2]]]);
//# sourceMappingURL=main.12a8dc90.chunk.js.map