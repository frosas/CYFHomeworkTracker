(this["webpackJsonpcyf-homework-tracker"]=this["webpackJsonpcyf-homework-tracker"]||[]).push([[0],{398:function(e,t,a){e.exports=a(515)},403:function(e,t,a){},404:function(e,t,a){},515:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),s=a(144),c=a(98),u=(a(403),a(31)),l=a(63),h=a(57),d=a(56),m=a(53),f=(a(404),a(364)),g=a.n(f),b=a(371),p=a.n(b),v=a(381),k=a.n(v),w=a(372),E=a.n(w),O=a(379),y=a.n(O),j=a(256),R=a.n(j),S=a(255),A=a.n(S),T=a(373),C=a.n(T),P=a(374),N=a.n(P),H=a(376),I=a.n(H),F=a(377),L=a.n(F),_=a(378),W=a.n(_),M=a(382),U=a.n(M),z=a(375),B=a.n(z),x=a(380),D=a.n(x),G=a(383),Y=a.n(G),K=[{name:"London",tracker:"https://docs.google.com/spreadsheets/d/1B_08AtHWy8FwGnfjTmj5TzuNKtBf2ov31BFPnJs2DR0/edit#gid=0",students:["ferhatu","Hamidreza-Fakharzadeh","minwwgo","yusuf963","Rayhan94","Sonjide","TamBahri","cyeburu","Hanifix","HarrisSheraz20","279Roxana","sabia-m","abbasmokhtari","Jreo123","kiowd","SCavus","tayfuntayfun","AKaramifar","AlexeyBrambalov","naderakhgari","leealex88","Alisina92","banirezaie","cockochan","abcelen","babakjahangiri","ellietms","sugunum","mahmutsel","melanieet","AlexandruBudaca","byohannes","Erwin6997","mnashawati","tanianm"]},{name:"Manchester",tracker:"https://docs.google.com/spreadsheets/d/1o70LeHJfe8VzMQzv7hKfDV3qzuKpX9cNfB7houm9XQQ/edit#gid=1726249445",students:["Vijith46","ghost","minwwgo","bridgetkalinda","maali9","ramanan2017","kiyaGu","mhallaq","supertata","elsahib","NawalC","cobrac2001","FatimaAbdimalik","OBakir90","erol-g","shaimaa-stack","halitos","Taslima26","SULAIMAN-100","Leidagandy","Iman-feisali","Hedyeh65","AlanaTheQueen","bash93","shahdalhaj","Buchraatkeh1984","zision71","FarhanaFKhan","roza8765","tintax01","Bek0o0","azadaafo"]},{name:"Scotland",tracker:"https://docs.google.com/spreadsheets/d/12HcEzJKENgAcEeVN3X-zo-LrwX10MFpF3UX8L86nnwI/edit#gid=1726249445",students:["andsemenov","Arasko87","hacersk","ismihan34","mara-ber","AaishaMohamad","Munish909","r4c00n4","NataliaCoder","Ruthsuleiman","Sportysam2000","dreamycodex","zuhalzuhal"]},{name:"Birmingham",tracker:"https://docs.google.com/spreadsheets/d/1EWtTEGuu8Or0RLMEYM72RBsbhz7fL4WBOEQCZhQ_bEA/edit#gid=1726249445",students:["nouri89","Ade0211","AliHaider-1","numbthumb","bireworld","carterd888","davibaweja","edksam","ISTANBULBEKLE","fwrat-94","GTabala","g1st","HadiyahL","Hiba-CYF","Jamesdiop","leroy-douglas","MartinBoylan","murselaysan","NihalAli2","nos6","lolabakk","osagiestar","pchan2","sadatakhtar","Tedros-Ghebrekirstos","zubedauk"]}],V={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(U.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Y.a,Object.assign({},e,{ref:t}))}))},J=[{title:"Reviewed? (Click to mark as done)",defaultSortOrder:"asc",render:function(e,t){return e.labels.some((function(e){return"reviewed"===e.name}))?r.a.createElement("button",{type:"button",className:"btn btn-success"},"Reviewed"):r.a.createElement("button",{type:"button",className:"btn btn-danger"},"To Review")}},{title:"Title",field:"title"},{title:"Student",field:"user.login",render:function(e){return r.a.createElement("a",{href:e.user.html_url},e.user.login)}},{title:"School",render:function(e){var t="unknown";return K.forEach((function(a){a.students.includes(e.user.login)&&(t=a.name)})),t.toString()}},{title:"Submitted",field:"created_at",render:function(e){return function(e){var t=e.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=e.getDate(),r=e.getHours(),o=e.getMinutes();return n+" "+a+" "+t+" "+X(r)+":"+X(o)}(new Date(e.created_at))}},{title:"Homework Module",field:"base.repo.name",render:function(e){return r.a.createElement("a",{href:e.base.repo.html_url},e.base.repo.name)}},{render:function(e){return r.a.createElement("a",{className:"btn btn-outline-primary",href:"https://www.gitpod.io/#"+e.html_url,role:"button",target:"_blank",rel:"noopener noreferrer"},"View Source")}},{render:function(e){return r.a.createElement("a",{className:"btn btn-outline-secondary",href:e.html_url,role:"button",target:"_blank",rel:"noopener noreferrer"},"View Pull Request")}}],Q={pageSize:20,defaultExpanded:!0};function X(e){return("0"+e).slice(-2)}var q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={columns:J,options:Q},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){return r.a.createElement(g.a,{icons:V,columns:this.state.columns,data:this.props.data,title:"",isLoading:this.props.isLoading,options:this.state.options})}}]),a}(r.a.Component),Z=Object(c.e)(q),$=["html-css-project","js-exercises","HTML-CSS-Homework"],ee=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClickOpen=function(){n.setState({dialogOpen:!0})},n.handleClose=function(){n.setState({dialogOpen:!1})},n.state={isLoading:!1,data:[],school:"None"},n.handleClickOpen=n.handleClickOpen.bind(Object(h.a)(n)),n.handleClose=n.handleClose.bind(Object(h.a)(n)),n.githubRepo=n.props.githubRepo,n.authRepo=n.props.authRepo,console.log("Being"),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;this.setState({isLoading:!0}),console.log("componentDidMount"),this.authRepo.registerOnAuthListener((function(a){console.log("user"),a?e.githubRepo.setToken().then((function(t){e.loadHomeworkRepos()})):t.replace("/CYFHomeworkTracker/login")}),(function(){t.replace("/CYFHomeworkTracker/login")}),(function(e){console.log(e)}))}},{key:"loadHomeworkRepos",value:function(){var e=this;this.githubRepo.getAllHomeworkToReview($).then((function(t){e.setState({isLoading:!1,data:t})}))}},{key:"setSchool",value:function(e){this.setState({school:this.getSchoolFromName(e)})}},{key:"getSchoolFromName",value:function(e){return K.filter((function(t){return t.name===e}))[0]}},{key:"getDataForSchool",value:function(e){return this.state.data.filter((function(t){return e.students.includes(t.user.login)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light static-top mb-5 shadow"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"CodeYourFuture Homework Tracker"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://docs.codeyourfuture.io/volunteers/education/homework-feedback",target:"_blank"},"Feedback Guide")))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"card border-0 shadow my-5"},r.a.createElement("div",{class:"card-body p-5"},r.a.createElement("h1",{class:"font-weight-light"},"Welcome to the Homework Tracker"),r.a.createElement("p",{class:"lead"},"Select your school:"),r.a.createElement("div",null,K.map((function(t){return r.a.createElement("button",{class:e.state.school.name===t.name?"btn btn-primary":"btn btn-outline-primary",onClick:function(){return e.setSchool(t.name)}},t.name)})))))),"None"===this.state.school?null:r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"card border-0 shadow my-5"},r.a.createElement("div",{class:"card-body p-5"},r.a.createElement("h1",{class:"font-weight-light"},"Remember to give a grade"),r.a.createElement("p",null,"It's important that you give a grade on the students homework so that we can track their development and growth over the course."),r.a.createElement("p",null,"You can find a guide on how grade homework"," ",r.a.createElement("a",{href:"https://docs.codeyourfuture.io/volunteers/education/homework-feedback#2-homework-grading",target:"_blank",rel:"noopener noreferrer"},"here")),r.a.createElement("p",null,"Give feedback here:"),r.a.createElement("div",null,r.a.createElement("a",{class:"btn btn-primary",href:this.state.school.tracker,target:"_blank",rel:"noopener noreferrer"},"Give Feedback"))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card border-0 shadow my-5"},r.a.createElement("div",null,r.a.createElement(Z,{isLoading:this.state.isLoading,data:this.getDataForSchool(this.state.school)}))))))}}]),a}(r.a.Component),te=Object(c.e)(ee),ae=a(85),ne=a.n(ae),re=(a(495),a(497),{apiKey:"AIzaSyAMog4hpMuZVXjWZT5zw5HXaYLq_dF61Ho",authDomain:"cyfhomeworktracker.firebaseapp.com",databaseURL:"https://cyfhomeworktracker.firebaseio.com",projectId:"cyfhomeworktracker",storageBucket:"cyfhomeworktracker.appspot.com",messagingSenderId:"708461557840",appId:"1:708461557840:web:2449c2f1daabec198f3955",measurementId:"G-ZE8EQM853K"}),oe=function e(){var t=this;Object(u.a)(this,e),this.currentUser=function(){return t.auth.currentUser},this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignInWithGithub=function(){return t.auth.signInWithPopup(t.githubProvider)},this.doSignInAnonymous=function(){return t.auth.signInAnonymously()},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/CYFHomeworkTracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,a){return t.auth.onAuthStateChanged((function(t){t?e(t):a()}))},this.users=function(){return t.db.collection("users")},ne.a.initializeApp(re),this.serverValue=ne.a.firestore.ServerValue,this.emailAuthProvider=ne.a.auth.EmailAuthProvider,this.auth=ne.a.auth(),this.db=ne.a.firestore(),this.db.enablePersistence().catch((function(e){console.log(e.toString())})),this.googleProvider=new ne.a.auth.GoogleAuthProvider,this.facebookProvider=new ne.a.auth.FacebookAuthProvider,this.twitterProvider=new ne.a.auth.TwitterAuthProvider,this.githubProvider=new ne.a.auth.GithubAuthProvider},ie=a(91),se=a(385),ce=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).state={loading:!1},console.log("Login");var r=n.props.history;return n.handleInputChange=n.handleInputChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.authRepo=n.props.authRepo,n.authRepo.registerOnAuthListener((function(e){console.log(e),e&&(r.push("/CYFHomeworkTracker/"),n.showToast("User Logged In. Welcome "+e.email))}),(function(){}),(function(e){console.log(e)})),n}return Object(l.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name;this.setState(Object(ie.a)({},a,t.value))}},{key:"handleSubmit",value:function(e){var t=this;this.setState({loading:!0}),e.preventDefault(),this.authRepo.doSignInWithGithub((function(e){t.showToast("Something went wrong. Call Chris."),t.setState({loading:!1})}))}},{key:"showToast",value:function(e){Object(se.a)(e,{autoClose:2e3})}},{key:"render",value:function(){return r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row no-gutter"},r.a.createElement("div",{class:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),r.a.createElement("div",{class:"col-md-8 col-lg-6"},r.a.createElement("div",{class:"login d-flex align-items-center py-5"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-9 col-lg-8 mx-auto"},r.a.createElement("h3",{class:"login-heading mb-4"},"Welcome to the CodeYourFuture Homework Tracker"),r.a.createElement("form",null,r.a.createElement("button",{class:"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2",type:"submit",onClick:this.handleSubmit},"Sign in with Github")))))))))}}]),a}(r.a.Component),ue=Object(c.e)(ce),le=function(){function e(t){Object(u.a)(this,e),this.firebase=t}return Object(l.a)(e,[{key:"registerOnAuthListener",value:function(e,t,a){this.firebase.onAuthUserListener((function(a){a?e(a):t()}),(function(e){t()}))}},{key:"doSignInWithGithub",value:function(e){var t=this;this.firebase.doSignInWithGithub().then((function(e){console.log(e),t.token=e.credential.accessToken;var a={token:e.credential.accessToken};t.firebase.users().doc(e.user.uid).set(a)})).catch((function(t){e(t)}))}},{key:"getCurrentUser",value:function(){return this.firebase.currentUser()}},{key:"logout",value:function(){this.firebase.doSignOut()}},{key:"getToken",value:function(){return console.log("CURRENT_USER "+this.getCurrentUser().uid),this.firebase.users().doc(this.getCurrentUser().uid).get().then((function(e){return console.log("TOKEN "+e.data().token),e.data().token}))}}]),e}(),he=a(390),de=function(){function e(t){Object(u.a)(this,e),this.authRepo=t}return Object(l.a)(e,[{key:"setToken",value:function(){var e=this;return this.authRepo.getToken().then((function(t){e.octokit=new he.a({userAgent:"CyfHomeworkTracker",auth:t,log:{debug:function(){},info:function(){},warn:console.warn,error:console.error},request:{agent:void 0,fetch:void 0,timeout:0}})}))}},{key:"getAllHomework",value:function(e){return this.octokit.pulls.list({owner:"CodeYourFuture",repo:e,per_page:100}).catch((function(e){console.log(e)}))}},{key:"getHomeworkToReview",value:function(e){var t=this;return this.getAllHomework(e).then((function(e){return e.data.filter((function(e){return t.isNotReviewed(e)}))})).catch((function(e){console.log(e)}))}},{key:"getAllHomeworkToReview",value:function(e){var t=this,a=e.map((function(e){return t.getHomeworkToReview(e)}));return Promise.all(a).then((function(e){return console.log(e),t.flatten(e)}))}},{key:"getAllHomeworkToReviewForSchool",value:function(e,t){return this.getAllHomeworkToReview(e).then((function(e){return e.filter((function(e){return t.students.contains(e.user.login)}))}))}},{key:"flatten",value:function(e){var t=this;return e.reduce((function(e,a){return e.concat(Array.isArray(a)?t.flatten(a):a)}),[])}},{key:"isNotReviewed",value:function(e){var t=e.labels;return void 0===t||0===t.length||!1===e.labels.some((function(e){return"reviewed"===e.name.toLowerCase()}))}}]),e}(),me=new le(new oe),fe=new de(me),ge=r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{exact:!0,path:"/CYFHomeworkTracker/",component:function(){return r.a.createElement(te,{githubRepo:fe,authRepo:me})}}),r.a.createElement(c.a,{path:"/CYFHomeworkTracker/login",component:function(){return r.a.createElement(ue,{authRepo:me})}})));i.a.render(ge,document.getElementById("root"))}},[[398,1,2]]]);
//# sourceMappingURL=main.05a885c6.chunk.js.map