(this["webpackJsonpcyf-homework-tracker"]=this["webpackJsonpcyf-homework-tracker"]||[]).push([[0],{398:function(e,t,n){e.exports=n(515)},403:function(e,t,n){},404:function(e,t,n){},515:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),s=n(144),u=n(98),c=(n(403),n(31)),h=n(63),l=n(57),d=n(56),f=n(53),m=(n(404),n(364)),b=n.n(m),g=n(371),p=n.n(g),k=n(381),w=n.n(k),O=n(372),v=n.n(O),E=n(379),j=n.n(E),R=n(256),S=n.n(R),y=n(255),A=n.n(y),C=n(373),P=n.n(C),T=n(374),I=n.n(T),L=n(376),H=n.n(L),W=n(377),_=n.n(W),U=n(378),z=n.n(U),F=n(382),N=n.n(F),B=n(375),M=n.n(B),x=n(380),D=n.n(x),G=n(383),V=n.n(G),K=[{name:"London",tracker:"https://docs.google.com/spreadsheets/d/1B_08AtHWy8FwGnfjTmj5TzuNKtBf2ov31BFPnJs2DR0/edit#gid=0",students:["ferhatu","Hamidreza-Fakharzadeh","minwwgo","yusuf963","Rayhan94","Sonjide","TamBahri","cyeburu","Hanifix","HarrisSheraz20","279Roxana","sabia-m","abbasmokhtari","Jreo123","kiowd","SCavus","tayfuntayfun","AKaramifar","AlexeyBrambalov","naderakhgari","leealex88","Alisina92","banirezaie","cockochan","abcelen","babakjahangiri","ellietms","sugunum","mahmutsel","melanieet","AlexandruBudaca","byohannes","Erwin6997","mnashawati","tanianm"]},{name:"Manchester",tracker:"https://docs.google.com/spreadsheets/d/1o70LeHJfe8VzMQzv7hKfDV3qzuKpX9cNfB7houm9XQQ/edit#gid=1726249445",students:["Vijith46","ghost","minwwgo","bridgetkalinda","maali9","ramanan2017","kiyaGu","mhallaq","supertata","elsahib","NawalC","cobrac2001","FatimaAbdimalik","OBakir90","erol-g","shaimaa-stack","halitos","Taslima26","SULAIMAN-100","Leidagandy","Iman-feisali","Hedyeh65","AlanaTheQueen","bash93","shahdalhaj","Buchraatkeh1984","zision71","FarhanaFKhan","roza8765","tintax01","Bek0o0","azadaafo"]},{name:"Scotland",tracker:"https://docs.google.com/spreadsheets/d/12HcEzJKENgAcEeVN3X-zo-LrwX10MFpF3UX8L86nnwI/edit#gid=1726249445",students:["andsemenov","Arasko87","hacersk","ismihan34","mara-ber","AaishaMohamad","Munish909","r4c00n4","NataliaCoder","Ruthsuleiman","Sportysam2000","dreamycodex","zuhalzuhal"]},{name:"Birmingham",tracker:"https://docs.google.com/spreadsheets/d/1EWtTEGuu8Or0RLMEYM72RBsbhz7fL4WBOEQCZhQ_bEA/edit#gid=1726249445",students:[]}],Q={Add:Object(a.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return r.a.createElement(P.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return r.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(j.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return r.a.createElement(A.a,Object.assign({},e,{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return r.a.createElement(D.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return r.a.createElement(w.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}))},X=[{title:"Reviewed? (Click to mark as done)",defaultSortOrder:"asc",render:function(e,t){return e.labels.some((function(e){return"reviewed"===e.name}))?r.a.createElement("button",{type:"button",class:"btn btn-success"},"Reviewed"):r.a.createElement("button",{type:"button",class:"btn btn-danger"},"To Review")}},{title:"Title",field:"title"},{title:"Student",field:"user.login",render:function(e){return r.a.createElement("a",{href:e.user.html_url},e.user.login)}},{title:"School",render:function(e){var t="unknown";return K.forEach((function(n){n.students.includes(e.user.login)&&(t=n.name)})),t.toString()}},{title:"Homework Module",field:"base.repo.name",render:function(e){return r.a.createElement("a",{href:e.base.repo.html_url},e.base.repo.name)}},{render:function(e){return r.a.createElement("a",{className:"btn btn-outline-primary",href:"https://www.gitpod.io/#"+e.html_url,role:"button",target:"_blank",rel:"noopener noreferrer"},"View Source")}},{render:function(e){return r.a.createElement("a",{className:"btn btn-outline-secondary",href:e.html_url,role:"button",target:"_blank",rel:"noopener noreferrer"},"View Pull Request")}}],Y={pageSize:20,defaultExpanded:!0};var J=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={columns:X,options:Y},a}return Object(h.a)(n,[{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){return r.a.createElement(b.a,{icons:Q,columns:this.state.columns,data:this.props.data,title:"",isLoading:this.props.isLoading,options:this.state.options})}}]),n}(r.a.Component),q=Object(u.e)(J),Z=["html-css-project","js-exercises","html-css-project"],$=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClickOpen=function(){a.setState({dialogOpen:!0})},a.handleClose=function(){a.setState({dialogOpen:!1})},a.state={isLoading:!1,data:[]},a.handleClickOpen=a.handleClickOpen.bind(Object(l.a)(a)),a.handleClose=a.handleClose.bind(Object(l.a)(a)),a.githubRepo=a.props.githubRepo,a.authRepo=a.props.authRepo,a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;this.setState({isLoading:!0}),this.authRepo.registerOnAuthListener((function(n){n?e.githubRepo.setToken().then((function(t){e.loadHomeworkRepos()})):t.replace("/CYFHomeworkTracker/login")}),(function(){t.replace("/CYFHomeworkTracker/login")}),(function(e){console.log(e)}))}},{key:"loadHomeworkRepos",value:function(){var e=this;Z.forEach((function(t){e.loadRepo(t)}))}},{key:"loadRepo",value:function(e){var t=this;this.githubRepo.getHomeworkToReview(e).then((function(e){console.log(e),t.setState({isLoading:!1,data:t.state.data.concat(e)})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(q,{isLoading:this.state.isLoading,data:this.state.data})))}}]),n}(r.a.Component),ee=Object(u.e)($),te=n(85),ne=n.n(te),ae=(n(495),n(497),{apiKey:"AIzaSyAMog4hpMuZVXjWZT5zw5HXaYLq_dF61Ho",authDomain:"cyfhomeworktracker.firebaseapp.com",databaseURL:"https://cyfhomeworktracker.firebaseio.com",projectId:"cyfhomeworktracker",storageBucket:"cyfhomeworktracker.appspot.com",messagingSenderId:"708461557840",appId:"1:708461557840:web:2449c2f1daabec198f3955",measurementId:"G-ZE8EQM853K"}),re=function e(){var t=this;Object(c.a)(this,e),this.currentUser=function(){return t.auth.currentUser},this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignInWithGithub=function(){return t.auth.signInWithPopup(t.githubProvider)},this.doSignInAnonymous=function(){return t.auth.signInAnonymously()},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/CYFHomeworkTracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged((function(t){t?e(t):n()}))},this.users=function(){return t.db.collection("users")},ne.a.initializeApp(ae),this.serverValue=ne.a.firestore.ServerValue,this.emailAuthProvider=ne.a.auth.EmailAuthProvider,this.auth=ne.a.auth(),this.db=ne.a.firestore(),this.db.enablePersistence().catch((function(e){console.log(e.toString())})),this.googleProvider=new ne.a.auth.GoogleAuthProvider,this.facebookProvider=new ne.a.auth.FacebookAuthProvider,this.twitterProvider=new ne.a.auth.TwitterAuthProvider,this.githubProvider=new ne.a.auth.GithubAuthProvider},oe=n(91),ie=n(385),se=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).state={loading:!1};var r=a.props.history;return a.handleInputChange=a.handleInputChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.authRepo=a.props.authRepo,a.authRepo.registerOnAuthListener((function(e){e&&(r.push("/CYFHomeworkTracker/"),a.showToast("User Logged In. Welcome "+e.email))}),(function(){}),(function(e){console.log(e)})),a}return Object(h.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name;this.setState(Object(oe.a)({},n,t.value))}},{key:"handleSubmit",value:function(e){var t=this;this.setState({loading:!0}),e.preventDefault(),this.authRepo.doSignInWithGithub((function(e){t.showToast("Something went wrong. Call Chris."),t.setState({loading:!1})}))}},{key:"showToast",value:function(e){Object(ie.a)(e,{autoClose:2e3})}},{key:"render",value:function(){return r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{class:"fadeIn first"},r.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",id:"icon",alt:"User Icon"})),r.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:this.handleSubmit},"Login with Github")))}}]),n}(r.a.Component),ue=Object(u.e)(se),ce=function(){function e(t){Object(c.a)(this,e),this.firebase=t}return Object(h.a)(e,[{key:"registerOnAuthListener",value:function(e,t,n){this.firebase.onAuthUserListener((function(n){n?e(n):t()}),(function(e){t()}))}},{key:"doSignInWithGithub",value:function(e){var t=this;this.firebase.doSignInWithGithub().then((function(e){console.log(e),t.token=e.credential.accessToken;var n={token:e.credential.accessToken};t.firebase.users().doc(e.user.uid).set(n)})).catch((function(t){e(t)}))}},{key:"getCurrentUser",value:function(){return this.firebase.currentUser()}},{key:"logout",value:function(){this.firebase.doSignOut()}},{key:"getToken",value:function(){return console.log("CURRENT_USER "+this.getCurrentUser().uid),this.firebase.users().doc(this.getCurrentUser().uid).get().then((function(e){return console.log("TOKEN "+e.data().token),e.data().token}))}}]),e}(),he=n(390),le=function(){function e(t){Object(c.a)(this,e),this.authRepo=t}return Object(h.a)(e,[{key:"setToken",value:function(){var e=this;return this.authRepo.getToken().then((function(t){e.octokit=new he.a({userAgent:"CyfHomeworkTracker",auth:t,log:{debug:function(){},info:function(){},warn:console.warn,error:console.error},request:{agent:void 0,fetch:void 0,timeout:0}})}))}},{key:"getAllHomework",value:function(e){return this.octokit.pulls.list({owner:"CodeYourFuture",repo:e,per_page:100}).catch((function(e){console.log(e)}))}},{key:"getHomeworkToReview",value:function(e){return this.getAllHomework(e).then((function(e){return e.data.filter((function(e){return e.labels.some((function(e){return"reviewed"!==e.name.toLowerCase()}))>0}))})).catch((function(e){console.log(e)}))}}]),e}(),de=new ce(new re),fe=new le(de),me=r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(u.a,{exact:!0,path:"/",component:function(){return r.a.createElement(ee,{githubRepo:fe,authRepo:de})}}),r.a.createElement(u.a,{path:"/login",component:function(){return r.a.createElement(ue,{authRepo:de})}})));i.a.render(me,document.getElementById("root"))}},[[398,1,2]]]);
//# sourceMappingURL=main.ba1ff2a9.chunk.js.map