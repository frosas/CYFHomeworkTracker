(this["webpackJsonpcyf-homework-tracker"]=this["webpackJsonpcyf-homework-tracker"]||[]).push([[0],{398:function(e,t,n){e.exports=n(516)},403:function(e,t,n){},404:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},405:function(e,t,n){},516:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),i=n.n(o),u=n(144),s=n(98),c=(n(403),n(29)),h=n(54),l=n(58),f=n(50),d=n(49),b=(n(404),n(405),n(365)),g=n.n(b),p=n(372),m=n.n(p),O=n(382),w=n.n(O),j=n(373),v=n.n(j),E=n(380),k=n.n(E),R=n(257),S=n.n(R),P=n(256),C=n.n(P),y=n(374),I=n.n(y),A=n(375),T=n.n(A),L=n(377),W=n.n(L),_=n(378),U=n.n(_),D=n(379),G=n.n(D),H=n(383),V=n.n(H),F=n(376),M=n.n(F),N=n(381),x=n.n(N),K=n(384),z=n.n(K),q={Add:Object(r.forwardRef)((function(e,t){return a.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return a.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return a.a.createElement(C.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return a.a.createElement(I.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return a.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return a.a.createElement(T.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return a.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return a.a.createElement(W.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(U.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(G.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(S.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(k.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return a.a.createElement(C.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return a.a.createElement(x.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return a.a.createElement(w.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return a.a.createElement(V.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return a.a.createElement(z.a,Object.assign({},e,{ref:t}))}))},B=[{title:"Title",field:"title"},{title:"Student",render:function(e){return a.a.createElement("a",{href:e.user.html_url},e.user.login)}},{title:"Homework Module",render:function(e){return a.a.createElement("a",{href:e.base.repo.html_url},e.base.repo.name)}},{render:function(e){return a.a.createElement("a",{class:"btn btn-outline-primary",href:"https://www.gitpod.io/#"+e.html_url,role:"button",target:"_blank"},"View Source")}},{render:function(e){return a.a.createElement("a",{class:"btn btn-outline-secondary",href:e.html_url,role:"button",target:"_blank"},"View Pull Request")}},{title:"Label",field:"labels[0].name",defaultGroupOrder:0}],Y={pageSize:20,grouping:!0,defaultExpanded:!0};var Z=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={columns:B,options:Y},r}return Object(h.a)(n,[{key:"componentWillReceiveProps",value:function(){}},{key:"render",value:function(){return a.a.createElement(g.a,{icons:q,columns:this.state.columns,data:this.props.data,title:"",isLoading:this.props.isLoading,options:this.state.options})}}]),n}(a.a.Component),J=Object(s.e)(Z),X=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleClickOpen=function(){r.setState({dialogOpen:!0})},r.handleClose=function(){r.setState({dialogOpen:!1})},r.state={isLoading:!1,data:[]},r.handleClickOpen=r.handleClickOpen.bind(Object(l.a)(r)),r.handleClose=r.handleClose.bind(Object(l.a)(r)),r.githubRepo=r.props.githubRepo,r.authRepo=r.props.authRepo,r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({isLoading:!0}),this.props.authRepo.registerOnAuthListener((function(n){e.githubRepo.getHomeworkToReview("js-exercises").then((function(e){console.log(e),t.setState({isLoading:!1,data:e})}))}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(J,{isLoading:this.state.isLoading,data:this.state.data})))}}]),n}(a.a.Component),Q=n(85),$=n.n(Q),ee=(n(496),n(498),function e(){var t=this;Object(c.a)(this,e),this.currentUser=function(){return t.auth.currentUser},this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignInWithGithub=function(){return t.auth.signInWithPopup(t.githubProvider)},this.doSignInAnonymous=function(){return t.auth.signInAnonymously()},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/CYFHomeworkTracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged((function(t){t?e(t):n()}))},this.users=function(){return t.db.collection("users")};$.a.initializeApp({apiKey:"AIzaSyAMog4hpMuZVXjWZT5zw5HXaYLq_dF61Ho",authDomain:"cyfhomeworktracker.firebaseapp.com",databaseURL:"https://cyfhomeworktracker.firebaseio.com",projectId:"cyfhomeworktracker",storageBucket:"cyfhomeworktracker.appspot.com",messagingSenderId:"708461557840",appId:"1:708461557840:web:2449c2f1daabec198f3955",measurementId:"G-ZE8EQM853K"}),this.serverValue=$.a.firestore.ServerValue,this.emailAuthProvider=$.a.auth.EmailAuthProvider,this.auth=$.a.auth(),this.db=$.a.firestore(),this.db.enablePersistence().catch((function(e){console.log(e.toString())})),this.googleProvider=new $.a.auth.GoogleAuthProvider,this.facebookProvider=new $.a.auth.FacebookAuthProvider,this.twitterProvider=new $.a.auth.TwitterAuthProvider,this.githubProvider=new $.a.auth.GithubAuthProvider}),te=n(213),ne=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;Object(c.a)(this,n),(r=t.call(this,e)).state={};var a=r.props.history;return r.props.authRepo.registerOnAuthListener((function(e){e&&(a.push("/main"),r.showToast("User Logged In. Welcome "+e.email))}),(function(){console.log(r.props.history),a.push("/login")}),(function(e){console.log(e)})),r}return Object(h.a)(n,[{key:"showToast",value:function(e){Object(te.a)(e,{autoClose:2e3})}},{key:"render",value:function(){return a.a.createElement("div",null)}}]),n}(a.a.Component),re=Object(s.e)(ne),ae=n(91),oe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;Object(c.a)(this,n),(r=t.call(this,e)).state={loading:!1};var a=r.props.history;return r.handleInputChange=r.handleInputChange.bind(Object(l.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r.authRepo=r.props.authRepo,r.authRepo.registerOnAuthListener((function(e){e&&(a.push("/main"),r.showToast("User Logged In. Welcome "+e.email))}),(function(){}),(function(e){console.log(e)})),r}return Object(h.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name;this.setState(Object(ae.a)({},n,t.value))}},{key:"handleSubmit",value:function(e){var t=this;this.setState({loading:!0}),e.preventDefault(),this.authRepo.doSignInWithGithub((function(e){t.showToast("Something went wrong. Call Chris."),t.setState({loading:!1})}))}},{key:"showToast",value:function(e){Object(te.a)(e,{autoClose:2e3})}},{key:"render",value:function(){return a.a.createElement("div",{class:"wrapper fadeInDown"},a.a.createElement("div",{id:"formContent"},a.a.createElement("div",{class:"fadeIn first"},a.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",id:"icon",alt:"User Icon"})),a.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:this.handleSubmit},"Login with Github")))}}]),n}(a.a.Component),ie=Object(s.e)(oe),ue=function(){function e(t){Object(c.a)(this,e),this.firebase=t}return Object(h.a)(e,[{key:"registerOnAuthListener",value:function(e,t,n){this.firebase.onAuthUserListener((function(n){n?e(n):t()}),(function(e){t()}))}},{key:"doSignInWithGithub",value:function(e){var t=this;this.firebase.doSignInWithGithub().then((function(e){console.log(e),t.token=e.credential.accessToken;var n={token:e.credential.accessToken};t.firebase.users().doc(e.user.uid).set(n)})).catch((function(t){e(t)}))}},{key:"getCurrentUser",value:function(){return this.firebase.currentUser()}},{key:"logout",value:function(){this.firebase.doSignOut()}},{key:"getToken",value:function(){return this.firebase.users().doc(this.getCurrentUser().uid).get().then((function(e){return e.token}))}}]),e}(),se=n(390),ce=function(){function e(t){Object(c.a)(this,e),this.authRepo=t,this.octokit=new se.a({userAgent:"CyfHomeworkTracker",log:{debug:function(){},info:function(){},warn:console.warn,error:console.error},request:{agent:void 0,fetch:void 0,timeout:0}})}return Object(h.a)(e,[{key:"getHomeworkToReview",value:function(e){var t=this;return this.authRepo.getToken().then((function(n){return t.octokit.pulls.list({owner:"CodeYourFuture",repo:e,per_page:100,auth:n})})).then((function(e){return e.data.filter((function(e){return e.labels.some((function(e){return!0}))>0}))})).catch((function(e){console.log(e)}))}}]),e}(),he=new ue(new ee),le=new ce(he),fe=a.a.createElement(u.a,null,a.a.createElement("div",null,a.a.createElement(s.a,{path:"/",component:function(){return a.a.createElement(re,{authRepo:he})}}),a.a.createElement(s.a,{path:"/login",component:function(){return a.a.createElement(ie,{authRepo:he})}}),a.a.createElement(s.a,{path:"/main",component:function(){return a.a.createElement(X,{githubRepo:le,authRepo:he})}})));i.a.render(fe,document.getElementById("root"))}},[[398,1,2]]]);
//# sourceMappingURL=main.0bf55614.chunk.js.map